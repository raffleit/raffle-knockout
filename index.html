<!DOCTYPE html>
<html>
<head>
    <title>Vintrekning</title>
</head>
<body>

<h2>Your seat reservations</h2>

<table>
    <thead><tr>
        <th>Navn</th><th>Antall lodd</th><th></th>
    </tr></thead>
    <tbody data-bind="foreach: deltakere">
    <tr>
        <td><input data-bind="value: navn" /></td>
        <td><input type="number" data-bind="value: antallLodd" /></td>
        <td><a href="#" data-bind="click: $root.fjernDeltaker">Remove</a></td>
    </tr>
    </tbody>
</table>

<button data-bind="click: addDeltaker">Legg til deltaker</button>
<button data-bind="click: trekk">Trekk</button>

<script type='text/javascript' src='js/libs/knockout.js/knockout.js'></script>
<script>

    function Deltaker(navn, antallLodd) {
        var self = this;
        self.navn = navn;
        self.antallLodd = antallLodd;
    }

    function DeltakerViewModel() {
        var self = this;

        self.deltakere = ko.observableArray([
            new Deltaker("", 0),
        ]);

        self.addDeltaker = function() {
            self.deltakere.push(new Deltaker("", 0));
        }

        self.fjernDeltaker = function(deltaker) { self.deltakere.remove(deltaker) }

        self.trekk = function() {
            console.log(self.deltakere);
            console.log(21);
        }
    }

    ko.applyBindings(new DeltakerViewModel());
</script>
</body>
</html>